<!DOCTYPE html>
<html lang="fr">

<head>
    <title>Inscription</title>
    <%- include('./partials/head'); %>
</head>

<header>

    <%- include('./partials/header'); %>

</header>

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <div class="d-flex justify-content-center align-items-center" style = "height: 100%;">
        <div class="centre-vertical">
            <div class="card mx-auto b-2 my-2">
                <div class="card-header text-center">
                    <h4>Inscrivez votre entreprise</h4>
                </div>
                <div class="card-body ">
                    <form method="POST" action="/entreprise/inscripion">
                        <div class="mb-3">
                            <label for="name" class="form-label">Nom :</label>
                            <input autofocus name="name" type="text" class="form-control" id="name" placeholder="Entrez son nom">
                        </div>
                        <div class="mb-3">
                            <label for="SIREN" class="form-label">SIREN :</label>
                            <input name="SIREN" type="text" class="form-control" id="SIREN" placeholder="Entrez le SIREN">
                        </div>
                        <div class="mb-3">
                            <label for="lat" class="form-label">Latitude :</label>
                            <input name="lat" type="number" class="form-control" id="lat" placeholder="Entrez la latitude du siège social" step="0.00001"> 
                        </div>
                        <div class="mb-3">
                            <label for="long" class="form-label">Longitude :</label>
                            <input name="long" type="number" class="form-control" id="long" placeholder="Entrez la longitude du siège social" step="0.00001">
                        </div>
                        <div class="mb-3">
                        <label for="type_organisation" class="form-label">Type d'organisation :</label>
                            <select id="type_organisation" name="type_organisation" class="form-select">
                                <% type_orga.forEach((organisation)=> { %>
                                <option><%= organisation.nom %></option>
                                <% }) %>
                                <option>Autre</option>
                            </select>
                        </div>

                        <div class="addTypeOrganisation" style = "display: none;">
                            <h4>Création de votre nouveau type d'organisation :</h4>
                            <div class="mb-3">
                                <label for="newOrganisation" class="form-label">Type organisation :</label>
                                <input name="newOrganisation" class="form-control" id="newOrganisation" rows="3" placeholder="Le nouveau type d'organisation">
                            </div>
                            <div class="mb-3">
                                <label for="newDescription" class="form-label">Description :</label>
                                <input name="newDescription" class="form-control" id="newDescription" rows="3" placeholder="Entrez une description de l'entreprise">
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-primary btn-block">Inscrivez la</button>
                        </div>
                    </form>
                    </div>
                    </div>
                </div>
            </div>
        </div>
</body>

<%- include('./partials/footer'); %>

<script>
    document.getElementById("type_organisation").addEventListener("change", function() {
        if (document.getElementById("type_organisation").value == "Autre") {
            document.getElementsByClassName("addTypeOrganisation")[0].style.display = "block";
        } else {
            document.getElementsByClassName("addTypeOrganisation")[0].style.display = "none";
        }
    });
</script>
</html>